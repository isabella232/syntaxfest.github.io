% Copyleft 2010 by Luc Boruta
%
% This file may be distributed and/or modified
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.

\mode<presentation>

\setbeamercovered{transparent}

\def\beamer@micro@sep{15pt}

\let\micro@plaintitlepage\titlepage%
\newcommand\maketitlepagebackground{}
\newcommand\makethankspagebackground{}
\newcommand\makeatbeginsectionbackground{}
\renewcommand\titlepage{
	\usebackgroundtemplate{\maketitlepagebackground}%
	\micro@plaintitlepage%
	\usebackgroundtemplate{}%
}

% Title page
\defbeamertemplate*{title page}{micro}[1][]
{
	\vbox{}
	\vfill
	\begin{centering}
		\begin{beamercolorbox}[wd=\paperwidth,sep=\beamer@micro@sep,center,#1]{palette primary}
			\usebeamerfont{title}\inserttitle\par%
			\ifx\insertsubtitle\@empty%
			\else
			\vskip0.25em%
			{\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
			\fi%     
		\end{beamercolorbox}%
		\vskip1em\par
		\begin{beamercolorbox}[sep=8pt,center,#1]{author}
			\usebeamerfont{author}\insertauthor
		\end{beamercolorbox}
		\begin{beamercolorbox}[sep=8pt,center,#1]{institute}
			\usebeamerfont{institute}\insertinstitute
		\end{beamercolorbox}
		\begin{beamercolorbox}[sep=8pt,center,#1]{date}
			\usebeamerfont{date}\insertdate
		\end{beamercolorbox}\vskip0.5em
		{\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\par}
	\end{centering}
	\vfill
}

\newcommand\micro@titleframe[1]{%
	\usebackgroundtemplate{\makeatbeginsectionbackground}%
	\frame[plain]{%
	\vfill%
	\begin{centering}%
		\begin{beamercolorbox}[wd=\paperwidth,sep=\beamer@micro@sep,center]{palette primary}%
			\usebeamerfont{title}#1\par%
		\end{beamercolorbox}%
	\end{centering}%
	\vfill%
	}%
	\usebackgroundtemplate{}%
}

% Section frames
\AtBeginSection[\micro@titleframe{\insertsection}]{
	\usebackgroundtemplate{\makethankspagebackground}%
	\micro@titleframe{\thesection.~\insertsection}%
	\usebackgroundtemplate{}%
}

% Thanks frame
\renewcommand\thanks[1]{\micro@titleframe{#1}}

% Blocks
\setbeamertemplate{blocks}[rounded]

% Items
\defbeamertemplate{itemize item}{circlealt}%
{\small\raise.2ex\hbox{\donotcoloroutermaths$\bullet$}}
\defbeamertemplate{itemize subitem}{circlealt}%
{\small\raise.1ex\hbox{\donotcoloroutermaths$\circ$}}
\defbeamertemplate{itemize subsubitem}{circlealt}%
{\scriptsize\raise.1ex\hbox{\donotcoloroutermaths$\bullet$}}
\setbeamertemplate{items}[circlealt]
%\setbeamertemplate{sections/subsections in toc}[circle]

\mode<all>
